<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Invitacion</title>
  </head>
  <body>
    <!-- Video de fondo -->
    <video id="background-video" autoplay muted loop playsinline>
      <source
        src="multimedia/Recorrido por el Museo Larco en Perú - cop.mp4"
        type="video/mp4"
      />
    </video>
    <div class="overlay"></div>

    <!-- Tarjeta de San Valentín -->
    <div class="valentines-day-card">
      <input id="open" type="checkbox" />
      <label class="open" for="open"></label>
      <div class="card-front">
        <div class="note">Presiona para Abrir</div>
      </div>

      <div class="card-inside">
        <div class="text-one"></div>
        <div class="heart"></div>
        <div class="smile"></div>
        <div class="eyes"></div>
      </div>
    </div>

    <!-- Audio -->
    <audio id="background-music" loop muted>
      <source
        src="multimedia/beele-ovy-on-the-drums-mi-refe-video-oficial_red.mp3"
        type="audio/mp3"
      />
      Tu navegador no soporta audio HTML5.
    </audio>

    <!-- Confeti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.1/dist/confetti.browser.min.js"></script>

    <script>
      setInterval(() => {
        confetti({
          particleCount: 100,
          spread: 60,
          origin: { x: 0.5, y: 0.5 },
        });
      }, 2000);

      // Controlar la reproducción de la canción
      document.addEventListener("DOMContentLoaded", function () {
        const checkbox = document.getElementById("open");
        const audio = document.getElementById("background-music");

        checkbox.addEventListener("change", function () {
          if (this.checked) {
            audio.muted = false; // Quita el silencio
            audio
              .play() // Reproduce la canción cuando la carta se abre
              .then(() => {
                console.log("La canción se está reproduciendo.");
              })
              .catch((error) => {
                console.error("Error al reproducir la canción:", error);
              });
          } else {
            audio.pause(); // Pausa la canción cuando la carta se cierra
            audio.currentTime = 0; // Reinicia la canción al principio
          }
        });
      });
    </script>
  </body>
</html>
